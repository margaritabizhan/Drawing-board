(this["webpackJsonpdrawing-board"]=this["webpackJsonpdrawing-board"]||[]).push([[0],{16:function(t,e,s){},18:function(t,e,s){},19:function(t,e,s){"use strict";s.r(e);var a=s(0),o=s.n(a),n=s(5),i=s.n(n),h=(s(16),s(4),s(1));var r=new class{constructor(){this.tool=null,Object(h.d)(this)}setTool(t){this.tool=t}setFillColor(t){this.tool.fillColor=t}setLineThickness(t){this.tool.lineThickness=t}setStrokeColor(t){this.tool.strokeColor=t}};var c=()=>o.a.createElement("div",{className:"setting-bar"},o.a.createElement("label",{for:"line-thk",style:{"margin-left":"5px"}},"Line Thickness"),o.a.createElement("input",{onChange:t=>r.setLineThickness(t.target.value),type:"number",min:1,max:50,defaultValue:1,name:"line-thk",style:{margin:"0 5px"}}),o.a.createElement("label",{for:"border-color"},"Border Color"),o.a.createElement("input",{onChange:t=>r.setStrokeColor(t.target.value),type:"color",style:{margin:"0 5px"},name:"border-color"}));class l{constructor(t){this.canvas=t,this.ctx=t.getContext("2d"),this.destroyEvents()}set fillColor(t){this.ctx.fillStyle=t}set lineThickness(t){this.ctx.lineWidth=t}set strokeColor(t){this.ctx.strokeStyle=t}destroyEvents(){this.canvas.onmousemove=null,this.canvas.onmousedown=null,this.canvas.onmouseup=null}}class d extends l{constructor(t){super(t),this.listen()}listen(){this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}mouseUpHandler(t){this.mouseDown=!1}mouseDownHandler(t){this.mouseDown=!0,this.ctx.beginPath(),this.ctx.moveTo(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop)}mouseMoveHandler(t){this.mouseDown&&this.draw(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop)}draw(t,e){this.ctx.lineTo(t,e),this.ctx.stroke(),console.log("drawing with brush")}}class u extends l{constructor(t){super(t),this.listen()}listen(){this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}mouseUpHandler(t){this.mouseDown=!1}mouseDownHandler(t){this.mouseDown=!0,this.ctx.beginPath(),this.startX=t.pageX-t.target.offsetLeft,this.startY=t.pageY-t.target.offsetTop,this.saved=this.canvas.toDataURL()}mouseMoveHandler(t){if(this.mouseDown){let e=t.pageX-t.target.offsetLeft,s=t.pageY-t.target.offsetTop,a=e-this.startX,o=s-this.startY;this.draw(this.startX,this.startY,a,o)}}draw(t,e,s,a){const o=new Image;o.src=this.saved,o.onload=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(o,0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(t,e,s,a),this.ctx.fill(),this.ctx.stroke(),console.log("drawing with rectangle")}}}class m extends l{constructor(t){super(t),this.listen()}listen(){this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}mouseUpHandler(t){this.mouseDown=!1}mouseDownHandler(t){this.mouseDown=!0,this.ctx.beginPath(),this.startX=t.pageX-t.target.offsetLeft,this.startY=t.pageY-t.target.offsetTop,this.saved=this.canvas.toDataURL()}mouseMoveHandler(t){if(this.mouseDown){let e=t.pageX-t.target.offsetLeft,s=Math.abs(e-this.startX);this.draw(this.startX,this.startY,s)}}draw(t,e,s){const a=new Image;a.src=this.saved,a.onload=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(a,0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.arc(t,e,s,0,2*Math.PI),this.ctx.fill(),this.ctx.stroke(),console.log("drawing with circle")}}}class v extends d{constructor(t){super(t)}draw(t,e){this.ctx.save(),this.ctx.strokeStyle="white",this.ctx.lineTo(t,e),this.ctx.stroke(),this.ctx.restore(),console.log("drawing with eraser")}}class g extends l{constructor(t){super(t),this.listen()}listen(){this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}mouseUpHandler(t){this.mouseDown=!1}mouseDownHandler(t){this.mouseDown=!0,this.ctx.beginPath(),this.startX=t.pageX-t.target.offsetLeft,this.startY=t.pageY-t.target.offsetTop,this.saved=this.canvas.toDataURL()}mouseMoveHandler(t){if(this.mouseDown){let e=t.pageX-t.target.offsetLeft,s=t.pageY-t.target.offsetTop;this.draw(this.startX,this.startY,e,s)}}draw(t,e,s,a){const o=new Image;o.src=this.saved,o.onload=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(o,0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(s,a),this.ctx.fill(),this.ctx.stroke(),console.log("drawing a line")}}}var w=new class{constructor(){this.canvas=null,this.undoList=[],this.redoList=[],Object(h.d)(this)}setCanvas(t){this.canvas=t}pushToUndo(t){this.undoList.push(t)}pushToRedo(t){this.redoList.push(t)}undo(){let t=this.canvas.getContext("2d");if(0!==this.undoList.length){const e=this.undoList.pop();let s=new Image;s.src=e,s.onload=()=>{t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(s,0,0,this.canvas.width,this.canvas.height)},this.redoList.push(this.canvas.toDataURL())}}redo(){let t=this.canvas.getContext("2d");if(0!==this.redoList.length){const e=this.redoList.pop();let s=new Image;s.src=e,s.onload=()=>{t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(s,0,0,this.canvas.width,this.canvas.height)},this.undoList.push(this.canvas.toDataURL())}}};var p=()=>o.a.createElement("div",{className:"toolbar"},o.a.createElement("button",{className:"toolbar-btn brush",onClick:()=>r.setTool(new d(w.canvas))}),o.a.createElement("button",{className:"toolbar-btn rect",onClick:()=>r.setTool(new u(w.canvas))}),o.a.createElement("button",{className:"toolbar-btn circle",onClick:()=>r.setTool(new m(w.canvas))}),o.a.createElement("button",{className:"toolbar-btn eraser",onClick:()=>r.setTool(new v(w.canvas))}),o.a.createElement("button",{className:"toolbar-btn line",onClick:()=>r.setTool(new g(w.canvas))}),o.a.createElement("input",{type:"color",style:{marginLeft:10},onChange:t=>{r.setFillColor(t.target.value),r.setStrokeColor(t.target.value)}}),o.a.createElement("button",{className:"toolbar-btn undo",onClick:()=>w.undo()}),o.a.createElement("button",{className:"toolbar-btn redo",onClick:()=>w.redo()}),o.a.createElement("button",{className:"toolbar-btn save"})),f=s(7);s(18);var b=Object(f.a)(()=>{const t=Object(a.useRef)();return Object(a.useEffect)(()=>{w.setCanvas(t.current),r.setTool(new d(t.current))},[]),o.a.createElement("div",{className:"canvas"},o.a.createElement("canvas",{onMouseDown:()=>{w.pushToUndo(t.current.toDataURL())},width:600,height:400,ref:t}))});var x=()=>o.a.createElement("div",{className:"app"},o.a.createElement(p,null),o.a.createElement(c,null),o.a.createElement(b,null));i.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)))},4:function(t,e,s){},8:function(t,e,s){t.exports=s(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.10d0c47a.chunk.js.map